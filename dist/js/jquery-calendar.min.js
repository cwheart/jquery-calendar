/*! jquery-calendar - v0.1.0 - 2016-09-08
* https://github.com/cwheart/jquery-calendar#readme
* Copyright (c) 2016 ; Licensed  */
"use strict";!function(a){return a.fn.calendar=function(b){var c;return this.initDate=new Date,this.element=a(this),this.dayList=a(this).find(".calendar-list"),this.nav=a(this).find(".calendar-nav"),this.title=a(this).find(".calendar-title"),this.days=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],this.getDayStr=function(a){return 0===a&&(a=7),this.days[a-1]},c=this,this.nextMonth=function(){return this.initDate.setMonth(this.initDate.getMonth()+1),this.draw()},this.prevMonth=function(){return this.initDate.setMonth(this.initDate.getMonth()-1),this.draw()},this.draw=function(){return this.drawTitle(),this.drawNav(),this.drawList()},this.drawTitle=function(){var b,c,d,e,f;for(a(this.title).empty(),e=this.days,f=[],c=0,d=e.length;c<d;c++)b=e[c],f.push(a(this.title).append("<div>"+b+"</div>"));return f},this.drawList=function(){var b,c,d;for(d=new Date(this.initDate),d.setDate(1),b=d.getDay(),0===b&&(b=7),d.setDate(1-b),a(this.dayList).empty(),c=[];;){if(d.setDate(d.getDate()+1),b=a('<div class="cal-cell"></div>'),d.toDateString()===this.initDate.toDateString()&&b.addClass("current"),b.append('<a data-date="'+d.toDateString()+'" class="day-cell" href="javascript:void(0);">'+d.getDate(NaN)),a(this.dayList).append(b),(d.getFullYear()>this.initDate.getFullYear()||d.getMonth()>this.initDate.getMonth())&&0===d.getDay())break;c.push(void 0)}return c},this.drawNav=function(){var b,c,d;return a(this.nav).empty(),d=a("<h2></h2>"),a(this.nav).append(d),d.append('<span class="prevMonth"><a href="javascript:void(0);">&lt;</a></span>'),d.append("<label>"+this.initDate.getFullYear()+"年 "+(this.initDate.getMonth()+1)+"月</label>"),d.append('<span class="nextMonth"><a href="javascript:void(0);">&gt;</a></span>'),b=a('<div class="selected-date"></div>'),a(this.nav).append(b),b.text(this.initDate.getDate()),c=a('<div class="selected-day">'+this.getDayStr(this.initDate.getDay())+"</div>"),a(this.nav).append(c)},this.selectDate=function(a){var b;return b=new Date(a),this.initDate.setYear(b.getFullYear()),this.initDate.setMonth(b.getMonth()),this.initDate.setDate(b.getDate()),this.draw()},this.draw(),a(this).on("click",".nextMonth",function(){return c.nextMonth()}),a(this).on("click",".prevMonth",function(){return c.prevMonth()}),a(this).on("click",".day-cell",function(){return c.selectDate(a(this).attr("data-date"))}),c}}(jQuery);